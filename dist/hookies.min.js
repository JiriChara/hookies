/*! hookies 2015-09-17 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["exports"],function(c){a.Hookies=b(a,c)}):"undefined"!=typeof exports?b(a,exports):a.Hookies=b(a,{})}(this,function(a,b){"use strict";var c=a.Hookies;b.VERSION="1.0.6",b.noConflict=function(){return a.Hookies=c,this};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},e=function(a){return"[object String]"===Object.prototype.toString.call(a)},f=function(a){return"[object Function]"===Object.prototype.toString.call(a)};"function"!=typeof/./&&(f=function(a){return"function"==typeof a||!1});var g=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},h=function(a,b,c,d){if(f(a)){var e=function(){a.apply(b,d)};c===!0?e():setTimeout(function(){e()},0)}};b.mixin=function(a){if(!g(a))throw new Error("Base object must be an object. Got: "+a);return a.hookies=new b.Hooks(a),this},b.Hooks=function(a){this.hooks={},this.hookiesBase=a||{}};var i=function(a){if(!e(a))throw new Error("Event name must be a string. Got: "+a+".")};return b.Hooks.prototype.on=function(a){var b,c,e=Array.prototype.slice.call(arguments,0);if(e.shift(),i(a),0===e.length||e.length>2)throw new Error("Wrong number of arguments.");if(2===e.length){if(!g(e[0]))throw new Error("Second argument must be an object.");c=e[0],e.shift()}if(!f(e[0]))throw new Error((c?"Third":"Second")+" argument must be a function.");b={context:c||null,fn:e[0]},d(this.hooks[a])||(this.hooks[a]=[]),this.hooks[a].push(b)},b.Hooks.prototype.trigger=function(a){var b,c,d,f,j,k,l=Array.prototype.slice.call(arguments,0),m=this;if(g(a)){if(!e(a.name))throw new Error("Event object must contain name.");b=a.context,f=a.sync,a=a.name}for(l.shift(),i(a),c=0,j=this.hooks[a]||[],k=j.length;k>c;c++)d=j[c],g(d)&&h(d.fn,b||d.context||m.hookiesBase,!!f,l)},b.Hooks.prototype.off=function(a,b){var c,g,h=this.hooks[a],i=d(h)?h.length:0,j=i>0,k=[];if(!e(a))throw new Error("Event must be a string");if(!f(b)&&void 0!==b)throw new Error("Callback must be a function");if(j&&f(b)){for(g=0;i>g;g++)k.push(h[g].fn);return c=k.indexOf(b),-1!==c?this.hooks[a].splice(c,1)&&1:0}return j?(this.hooks[a]=[])&&i:0},b.Hooks.prototype.offAll=function(){this.hooks={}},b});